"use strict";(self.webpackChunkcoreui_free_angular_admin_template=self.webpackChunkcoreui_free_angular_admin_template||[]).push([[28],{8028:(C,g,i)=>{i.r(g),i.d(g,{TagsModule:()=>r});var c=i(6895),p=i(1334),n=i(433),e=i(6602),u=i(593),h=i(8600),t=i(1571),T=i(623);class m{constructor(a,o){this.TagsService=a,this.formBuilder=o,this.postTagForm=new n.cw({}),this.validatedForm=!1,this.newTag={id:-1,name:""},this.modalMessage="",this.modalTitle="Atenci\xf3n",this.visible=!1}getPostTagForm(){return this.postTagForm}ngOnInit(){this.postTagForm=this.formBuilder.group({name:["",n.kI.required]})}onPostTag(){this.TagsService.getMaxId().subscribe(a=>{this.newTag.id=a+1,this.newTag.name=this.postTagForm.value.name,this.TagsService.postTag(this.newTag).subscribe({error:o=>{this.modalMessage=o.error.replace(/['"]+/g,""),this.openCloseInfoModal(),this.resetForm()},next:o=>{this.modalMessage=o,this.openCloseInfoModal()}})})}submitTag(){this.validatedForm=!0,this.postTagForm.dirty&&this.postTagForm.valid&&this.onPostTag()}openCloseInfoModal(){this.visible=!this.visible,this.visible||this.resetForm()}handleInfoModalChange(a){this.visible=a}resetForm(){this.validatedForm=!1,this.postTagForm=this.formBuilder.group({name:["",n.kI.required]})}}m.\u0275fac=function(a){return new(a||m)(t.Y36(T.i),t.Y36(n.qu))},m.\u0275cmp=t.Xpm({type:m,selectors:[["app-post-tag"]],decls:26,vars:8,consts:[["cForm","",1,"row","g-3","needs-validation",3,"formGroup","validated","ngSubmit"],["md","4"],["cLabel","","for","name"],["cFormControl","","id","name","formControlName","name","required","","type","text"],[3,"valid"],[1,"row"],["cButton","","color","primary","type","submit",1,"update-button","row-margin-bottom"],["id","infoModal",3,"visible","alignment","visibleChange"],["cModalTitle",""],["cButtonClose","",3,"click"],["cButton","","color","secondary",3,"click"]],template:function(a,o){1&a&&(t.TgZ(0,"h2"),t._uU(1,"Crear etiqueta"),t.qZA(),t.TgZ(2,"form",0),t.NdJ("ngSubmit",function(){return o.submitTag()}),t.TgZ(3,"c-row")(4,"c-col",1)(5,"label",2),t._uU(6,"Nombre de la etiqueta"),t.qZA(),t._UZ(7,"input",3),t.TgZ(8,"c-form-feedback",4),t._uU(9,"Nombre de etiqueta v\xe1lido"),t.qZA(),t.TgZ(10,"c-form-feedback",4),t._uU(11,"Ingrese el nombre de etiqueta"),t.qZA()()(),t.TgZ(12,"c-row",5)(13,"c-col",1)(14,"button",6),t._uU(15," Crear "),t.qZA()()()(),t.TgZ(16,"c-modal",7),t.NdJ("visibleChange",function(b){return o.handleInfoModalChange(b)}),t.TgZ(17,"c-modal-header")(18,"h5",8),t._uU(19),t.qZA(),t.TgZ(20,"button",9),t.NdJ("click",function(){return o.openCloseInfoModal()}),t.qZA()(),t.TgZ(21,"c-modal-body"),t._uU(22),t.qZA(),t.TgZ(23,"c-modal-footer")(24,"button",10),t.NdJ("click",function(){return o.openCloseInfoModal()}),t._uU(25," Cerrar "),t.qZA()()()),2&a&&(t.xp6(2),t.Q6J("formGroup",o.getPostTagForm())("validated",o.validatedForm),t.xp6(6),t.Q6J("valid",!0),t.xp6(2),t.Q6J("valid",!1),t.xp6(6),t.Q6J("visible",o.visible)("alignment","center"),t.xp6(3),t.Oqu(o.modalTitle),t.xp6(3),t.Oqu(o.modalMessage))},dependencies:[e.iok,e.Yp0,e.$_X,e.oHf,e.dCl,e.eFW,e.Hq3,e.PFQ,n._Y,n.Fj,n.JJ,n.JL,n.Q7,n.sg,n.u,e.KF4,e.YI7,e.Rbl,e.vPP,e.zS7],styles:[".spinner[_ngcontent-%COMP%]{text-align:center;padding-top:33.3333333333vh;height:50vh}.update-button[_ngcontent-%COMP%]{width:100%}.row[_ngcontent-%COMP%]{margin-top:2%}.row-margin-bottom[_ngcontent-%COMP%]{margin-bottom:10%}"]});var f=i(2079);const v=[{path:"",redirectTo:"get",pathMatch:"full"},{path:"",data:{title:"Etiquetas"},children:[{path:"",pathMatch:"full",redirectTo:"colors"},{path:"post",component:m,data:{title:"Crear etiqueta"}},{path:"update",component:f.f,data:{title:"Actualizar etiqueta"}},{path:"get",component:h.W,data:{title:"Etiquetas"}}]}];class s{}s.\u0275fac=function(a){return new(a||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[u.Bz.forChild(v),u.Bz]});class r{}r.\u0275fac=function(a){return new(a||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[c.ez,s,e.dTQ,e.zE6,e.gzQ,p.QX,e.dGk,e.P4_,e.ejP,e.hJ1,n.u5,n.UX,e.ga2,e.kWm,e.m81,e.Xo8,e.zkK]})}}]);
"use strict";(self.webpackChunkcoreui_free_angular_admin_template=self.webpackChunkcoreui_free_angular_admin_template||[]).push([[253],{253:(P,v,l)=>{l.r(v),l.d(v,{UsersModule:()=>p});var c=l(6895),b=l(1334),o=l(433),i=l(6602),u=l(593),e=l(1571),_=l(4961);function w(s,t){1&s&&(e.TgZ(0,"div",6),e._UZ(1,"i",7),e.TgZ(2,"span",8),e._uU(3,"Actualizar usuario..."),e.qZA()())}function T(s,t){if(1&s){const r=e.EpF();e.TgZ(0,"div")(1,"h2"),e._uU(2,"Actualizar usuario"),e.qZA(),e.TgZ(3,"form",9),e.NdJ("ngSubmit",function(){e.CHM(r);const n=e.oxw();return e.KtG(n.submitUser())}),e.TgZ(4,"c-row")(5,"c-col",10)(6,"label",11),e._uU(7,"Nombre de usuario"),e.qZA(),e._UZ(8,"input",12),e.TgZ(9,"c-form-feedback",13),e._uU(10,"Nombre de usuario v\xe1lido"),e.qZA(),e.TgZ(11,"c-form-feedback",13),e._uU(12,"Ingrese el nombre de usuario"),e.qZA()(),e.TgZ(13,"c-col",10)(14,"label",14),e._uU(15,"Correo electr\xf3nico"),e.qZA(),e._UZ(16,"input",15),e.TgZ(17,"c-form-feedback",13),e._uU(18,"Correo electr\xf3nico v\xe1lido"),e.qZA(),e.TgZ(19,"c-form-feedback",13),e._uU(20,"Ingrese el correo electr\xf3nico"),e.qZA()()(),e.TgZ(21,"c-row")(22,"c-col",10)(23,"label",16),e._uU(24,"Nombre"),e.qZA(),e._UZ(25,"input",17),e.TgZ(26,"c-form-feedback",13),e._uU(27,"Nombre v\xe1lido"),e.qZA(),e.TgZ(28,"c-form-feedback",13),e._uU(29,"Ingrese el nombre del usuario"),e.qZA()(),e.TgZ(30,"c-col",10)(31,"label",18),e._uU(32,"Tipo de usuario"),e.qZA(),e.TgZ(33,"select",19)(34,"option",20),e._uU(35,"Desarrollador"),e.qZA(),e.TgZ(36,"option",21),e._uU(37,"Administrador"),e.qZA(),e.TgZ(38,"option",22),e._uU(39,"Soporte"),e.qZA()(),e.TgZ(40,"c-form-feedback",13),e._uU(41,"Tipo de usuario seleccionado"),e.qZA(),e.TgZ(42,"c-form-feedback",13),e._uU(43,"Ingrese el tipo de usuario"),e.qZA()()(),e.TgZ(44,"c-row",23)(45,"c-col",24)(46,"label",25),e._uU(47,"Facebook"),e.qZA(),e._UZ(48,"input",26),e.TgZ(49,"c-form-feedback",13),e._uU(50,"Archivo v\xe1lido"),e.qZA(),e.TgZ(51,"c-form-feedback",13),e._uU(52,"Ingrese el archivo"),e.qZA()(),e.TgZ(53,"c-col",24)(54,"label",27),e._uU(55,"Instagram"),e.qZA(),e._UZ(56,"input",28),e.TgZ(57,"c-form-feedback",13),e._uU(58,"Archivo v\xe1lido"),e.qZA(),e.TgZ(59,"c-form-feedback",13),e._uU(60,"Ingrese el archivo"),e.qZA()(),e.TgZ(61,"c-col",24)(62,"label",29),e._uU(63,"Twitter"),e.qZA(),e._UZ(64,"input",30),e.TgZ(65,"c-form-feedback",13),e._uU(66,"Archivo v\xe1lido"),e.qZA(),e.TgZ(67,"c-form-feedback",13),e._uU(68,"Ingrese el archivo"),e.qZA()()(),e.TgZ(69,"c-row",23)(70,"c-col",24)(71,"button",31),e._uU(72," Actualizar "),e.qZA()()()()()}if(2&s){const r=e.oxw();e.xp6(3),e.Q6J("formGroup",r.getPutUserForm())("validated",r.validatedForm),e.xp6(6),e.Q6J("valid",!0),e.xp6(2),e.Q6J("valid",!1),e.xp6(6),e.Q6J("valid",!0),e.xp6(2),e.Q6J("valid",!1),e.xp6(7),e.Q6J("valid",!0),e.xp6(2),e.Q6J("valid",!1),e.xp6(12),e.Q6J("valid",!0),e.xp6(2),e.Q6J("valid",!1),e.xp6(7),e.Q6J("valid",!0),e.xp6(2),e.Q6J("valid",!1),e.xp6(6),e.Q6J("valid",!0),e.xp6(2),e.Q6J("valid",!1),e.xp6(6),e.Q6J("valid",!0),e.xp6(2),e.Q6J("valid",!1)}}class h{ngOnInit(){this._id=history.state._id,this.newUser.username=history.state.username,this.newUser.email=history.state.email,this.newUser.name=history.state.name,this.newUser.type=history.state.type,this.putUserForm=this.formBuilder.group({username:[this.newUser.username,o.kI.required],email:[this.newUser.email,o.kI.required],name:[this.newUser.name,o.kI.required],type:[this.newUser.type,o.kI.required],facebook:["",o.kI.required],instagram:["",o.kI.required],twitter:["",o.kI.required]})}constructor(t,r,a){this.usersService=t,this.formBuilder=r,this.router=a,this._id="",this.validatedForm=!1,this.excalinestImgPath="C:\\Excalinest\\img\\",this.fakePath="C:\\fakepath\\",this.newUser={username:"",email:"",name:"",type:"",facebook:{data:{data:new ArrayBuffer(0),type:""},tipoImagen:""},imagenFacebook:"",facepath:"",instagram:{data:{data:new ArrayBuffer(0),type:""},tipoImagen:""},imagenInstagram:"",instapath:"",twitter:{data:{data:new ArrayBuffer(0),type:""},tipoImagen:""},imagenTwitter:"",twitterpath:""},this.showSpinner=!1,this.modalMessage="",this.modalTitle="Atenci\xf3n",this.visible=!1,this.error=!1}getPutUserForm(){return this.putUserForm}onPutUser(){""!=this.putUserForm.value.username&&(this.newUser.username=this.putUserForm.value.username),""!=this.putUserForm.value.email&&(this.newUser.email=this.putUserForm.value.email),""!=this.putUserForm.value.name&&(this.newUser.name=this.putUserForm.value.name),""!=this.putUserForm.value.type&&(this.newUser.type=this.putUserForm.value.type),""!=this.putUserForm.value.facebook&&(this.newUser.facepath=this.putUserForm.value.facebook.replace(this.fakePath,this.excalinestImgPath)),""!=this.putUserForm.value.instagram&&(this.newUser.instapath=this.putUserForm.value.instagram.replace(this.fakePath,this.excalinestImgPath)),""!=this.putUserForm.value.twitter&&(this.newUser.twitterpath=this.putUserForm.value.twitter.replace(this.fakePath,this.excalinestImgPath)),this.showSpinner=!0,this.usersService.putUser(this._id,this.newUser).subscribe({error:t=>{this.showSpinner=!1,this.error=!0,this.modalMessage=t.error.replace(/['"]+/g,""),this.openCloseInfoModal(!1)},next:t=>{this.showSpinner=!1,this.error=!1,this.modalMessage=t.replace(/['"]+/g,""),this.openCloseInfoModal(!0)}})}isValidForm(){return""!=this.putUserForm.value.username||""!=this.putUserForm.value.email||""!=this.putUserForm.value.name||""!=this.putUserForm.value.facebook||""!=this.putUserForm.value.instagram||""!=this.putUserForm.value.twitter}submitUser(){this.validateEmailFormat()?(this.validatedForm=!0,this.isValidForm()&&this.onPutUser()):(this.error=!0,this.modalMessage="Error: Formato de correo electr\xf3nico no v\xe1lido",this.openCloseInfoModal(!1))}validateEmailFormat(){return""==this.putUserForm.value.email||this.putUserForm.value.email.match(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/)}openCloseInfoModal(t){this.visible=!this.visible,t?this.visible&&t&&this.resetForm():this.completeForm(),!this.visible&&!this.error&&this.router.navigate(["/users"])}handleInfoModalChange(t){this.visible=t}resetForm(){this.validatedForm=!1,this.putUserForm=this.formBuilder.group({username:["",o.kI.required],email:["",o.kI.required],name:["",o.kI.required],type:["",o.kI.required],facebook:["",o.kI.required],instagram:["",o.kI.required],twitter:["",o.kI.required]})}completeForm(){this.validatedForm=!1,this.putUserForm=this.formBuilder.group({username:[this.putUserForm.value.username,o.kI.required],email:[this.putUserForm.value.email,o.kI.required],name:[this.putUserForm.value.name,o.kI.required],type:[this.putUserForm.value.type,o.kI.required],facebook:["",o.kI.required],instagram:["",o.kI.required],twitter:["",o.kI.required]})}}function C(s,t){1&s&&(e.TgZ(0,"div",6),e._UZ(1,"i",7),e.TgZ(2,"span",8),e._uU(3,"Registrando usuario..."),e.qZA()())}function k(s,t){if(1&s){const r=e.EpF();e.TgZ(0,"div")(1,"h2"),e._uU(2,"Registrar usuario"),e.qZA(),e.TgZ(3,"form",9),e.NdJ("ngSubmit",function(){e.CHM(r);const n=e.oxw();return e.KtG(n.submitUser())}),e.TgZ(4,"c-row")(5,"c-col",10)(6,"label",11),e._uU(7,"Nombre de usuario"),e.qZA(),e._UZ(8,"input",12),e.TgZ(9,"c-form-feedback",13),e._uU(10,"Nombre de usuario v\xe1lido"),e.qZA(),e.TgZ(11,"c-form-feedback",13),e._uU(12,"Ingrese el nombre de usuario"),e.qZA()(),e.TgZ(13,"c-col",10)(14,"label",14),e._uU(15,"Correo electr\xf3nico"),e.qZA(),e._UZ(16,"input",15),e.TgZ(17,"c-form-feedback",13),e._uU(18,"Correo electr\xf3nico v\xe1lido"),e.qZA(),e.TgZ(19,"c-form-feedback",13),e._uU(20,"Ingrese el correo electr\xf3nico"),e.qZA()()(),e.TgZ(21,"c-row")(22,"c-col",10)(23,"label",16),e._uU(24,"Nombre completo"),e.qZA(),e._UZ(25,"input",17),e.TgZ(26,"c-form-feedback",13),e._uU(27,"Nombre completo v\xe1lido"),e.qZA(),e.TgZ(28,"c-form-feedback",13),e._uU(29,"Ingrese el nombre completo"),e.qZA()(),e.TgZ(30,"c-col",10)(31,"label",18),e._uU(32,"Tipo de usuario"),e.qZA(),e.TgZ(33,"select",19)(34,"option",20),e._uU(35,"Desarrollador"),e.qZA(),e.TgZ(36,"option",21),e._uU(37,"Administrador"),e.qZA(),e.TgZ(38,"option",22),e._uU(39,"Soporte"),e.qZA()(),e.TgZ(40,"c-form-feedback",13),e._uU(41,"Tipo de usuario seleccionado"),e.qZA(),e.TgZ(42,"c-form-feedback",13),e._uU(43,"Ingrese el tipo de usuario"),e.qZA()()(),e.TgZ(44,"c-row",23)(45,"c-col",24)(46,"label",25),e._uU(47,"Facebook"),e.qZA(),e._UZ(48,"input",26),e.TgZ(49,"c-form-feedback",13),e._uU(50,"Archivo v\xe1lido"),e.qZA(),e.TgZ(51,"c-form-feedback",13),e._uU(52,"Ingrese el archivo"),e.qZA()(),e.TgZ(53,"c-col",24)(54,"label",27),e._uU(55,"Instagram"),e.qZA(),e._UZ(56,"input",28),e.TgZ(57,"c-form-feedback",13),e._uU(58,"Archivo v\xe1lido"),e.qZA(),e.TgZ(59,"c-form-feedback",13),e._uU(60,"Ingrese el archivo"),e.qZA()(),e.TgZ(61,"c-col",24)(62,"label",29),e._uU(63,"Twitter"),e.qZA(),e._UZ(64,"input",30),e.TgZ(65,"c-form-feedback",13),e._uU(66,"Archivo v\xe1lido"),e.qZA(),e.TgZ(67,"c-form-feedback",13),e._uU(68,"Ingrese el archivo"),e.qZA()()(),e.TgZ(69,"c-row",23)(70,"c-col",24)(71,"button",31),e._uU(72," Registrar "),e.qZA()()()()()}if(2&s){const r=e.oxw();e.xp6(3),e.Q6J("formGroup",r.getPostUserForm())("validated",r.validatedForm),e.xp6(6),e.Q6J("valid",!0),e.xp6(2),e.Q6J("valid",!1),e.xp6(6),e.Q6J("valid",!0),e.xp6(2),e.Q6J("valid",!1),e.xp6(7),e.Q6J("valid",!0),e.xp6(2),e.Q6J("valid",!1),e.xp6(12),e.Q6J("valid",!0),e.xp6(2),e.Q6J("valid",!1),e.xp6(7),e.Q6J("valid",!0),e.xp6(2),e.Q6J("valid",!1),e.xp6(6),e.Q6J("valid",!0),e.xp6(2),e.Q6J("valid",!1),e.xp6(6),e.Q6J("valid",!0),e.xp6(2),e.Q6J("valid",!1)}}h.\u0275fac=function(t){return new(t||h)(e.Y36(_.f),e.Y36(o.qu),e.Y36(u.F0))},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-update-user"]],decls:12,vars:6,consts:[["class","fade show spinner",4,"ngIf"],[4,"ngIf"],["id","infoModal",3,"visible","alignment","visibleChange"],["cModalTitle",""],["cButtonClose","",3,"click"],["cButton","","color","secondary",3,"click"],[1,"fade","show","spinner"],[1,"spinner-grow","spinner-grow-sm"],[1,"m-1"],["cForm","",1,"row","g-3","needs-validation",3,"formGroup","validated","ngSubmit"],["md","6"],["cLabel","","for","username"],["cFormControl","","id","username","formControlName","username","type","text"],[3,"valid"],["cLabel","","for","email"],["cFormControl","","id","email","formControlName","email","type","text"],["cLabel","","for","name"],["cFormControl","","id","name","formControlName","name","type","text"],["cLabel","","for","type"],["cFormControl","","id","type","formControlName","type",1,"form-select"],["value","desarrollador","selected",""],["value","administrador"],["value","soporte"],[1,"row"],["md","4"],["cLabel","","for","facebook"],["cFormControl","","id","facebook","formControlName","facebook","type","file"],["cLabel","","for","instagram"],["cFormControl","","id","instagram","formControlName","instagram","type","file"],["cLabel","","for","twitter"],["cFormControl","","id","twitter","formControlName","twitter","type","file"],["cButton","","color","primary","type","submit",1,"update-button","row-margin-bottom"]],template:function(t,r){1&t&&(e.YNc(0,w,4,0,"div",0),e.YNc(1,T,73,16,"div",1),e.TgZ(2,"c-modal",2),e.NdJ("visibleChange",function(n){return r.handleInfoModalChange(n)}),e.TgZ(3,"c-modal-header")(4,"h5",3),e._uU(5),e.qZA(),e.TgZ(6,"button",4),e.NdJ("click",function(){return r.openCloseInfoModal(!1)}),e.qZA()(),e.TgZ(7,"c-modal-body"),e._uU(8),e.qZA(),e.TgZ(9,"c-modal-footer")(10,"button",5),e.NdJ("click",function(){return r.openCloseInfoModal(!1)}),e._uU(11," Cerrar "),e.qZA()()()),2&t&&(e.Q6J("ngIf",r.showSpinner),e.xp6(1),e.Q6J("ngIf",0==r.showSpinner),e.xp6(1),e.Q6J("visible",r.visible)("alignment","center"),e.xp6(3),e.Oqu(r.modalTitle),e.xp6(3),e.hij(" ",r.modalMessage," "))},dependencies:[c.O5,i.iok,i.Yp0,i.$_X,i.oHf,i.dCl,i.eFW,i.Hq3,i.PFQ,o._Y,o.YN,o.Kr,o.Fj,o.EJ,o.JJ,o.JL,o.sg,o.u,i.KF4,i.YI7,i.Rbl,i.vPP,i.zS7],styles:[".spinner[_ngcontent-%COMP%]{text-align:center;padding-top:33.3333333333vh;height:50vh}.update-button[_ngcontent-%COMP%]{width:100%}.row[_ngcontent-%COMP%]{margin-top:2%}.row-margin-bottom[_ngcontent-%COMP%]{margin-bottom:10%}"]});class f{ngOnInit(){this.postUserForm=this.formBuilder.group({username:["",o.kI.required],email:["",o.kI.required],name:["",o.kI.required],type:["",o.kI.required],facebook:["",o.kI.required],instagram:["",o.kI.required],twitter:["",o.kI.required]})}constructor(t,r,a){this.usersService=t,this.formBuilder=r,this.router=a,this.validatedForm=!1,this.excalinestImgPath="C:\\Excalinest\\img\\",this.fakePath="C:\\fakepath\\",this.newUser={username:"",email:"",name:"",type:"",facebook:{data:{data:new ArrayBuffer(0),type:""},tipoImagen:""},imagenFacebook:"",facepath:"",instagram:{data:{data:new ArrayBuffer(0),type:""},tipoImagen:""},imagenInstagram:"",instapath:"",twitter:{data:{data:new ArrayBuffer(0),type:""},tipoImagen:""},imagenTwitter:"",twitterpath:""},this.showSpinner=!1,this.modalMessage="",this.modalTitle="Atenci\xf3n",this.visible=!1,this.error=!1}getPostUserForm(){return this.postUserForm}onPostUser(){this.newUser.username=this.postUserForm.value.username,this.newUser.email=this.postUserForm.value.email,this.newUser.name=this.postUserForm.value.name,this.newUser.type=this.postUserForm.value.type,this.newUser.facepath=this.postUserForm.value.facebook.replace(this.fakePath,this.excalinestImgPath),this.newUser.instapath=this.postUserForm.value.instagram.replace(this.fakePath,this.excalinestImgPath),this.newUser.twitterpath=this.postUserForm.value.twitter.replace(this.fakePath,this.excalinestImgPath),this.showSpinner=!0,this.usersService.postUser(this.newUser).subscribe({error:t=>{this.showSpinner=!1,this.error=!0,this.modalMessage=t.error.replace(/['"]+/g,""),this.openCloseInfoModal(!1)},next:t=>{this.showSpinner=!1,this.error=!1,this.modalMessage=t.replace(/['"]+/g,""),this.openCloseInfoModal(!0)}})}submitUser(){this.validateEmailFormat()?(this.validatedForm=!0,this.postUserForm.dirty&&this.postUserForm.valid&&this.onPostUser()):(this.error=!0,this.modalMessage="Error: Formato de correo electr\xf3nico no v\xe1lido",this.openCloseInfoModal(!1))}validateEmailFormat(){return this.postUserForm.value.email.match(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/)}openCloseInfoModal(t){this.visible=!this.visible,t?this.visible&&t&&this.resetForm():this.completeForm(),!this.visible&&!this.error&&this.router.navigate(["/users"])}handleInfoModalChange(t){this.visible=t}resetForm(){this.validatedForm=!1,this.postUserForm=this.formBuilder.group({username:["",o.kI.required],email:["",o.kI.required],name:["",o.kI.required],type:["",o.kI.required],facebook:["",o.kI.required],instagram:["",o.kI.required],twitter:["",o.kI.required]})}completeForm(){this.validatedForm=!1,this.postUserForm=this.formBuilder.group({username:[this.postUserForm.value.username,o.kI.required],email:[this.postUserForm.value.email,o.kI.required],name:[this.postUserForm.value.name,o.kI.required],type:[this.postUserForm.value.type,o.kI.required],facebook:["",o.kI.required],instagram:["",o.kI.required],twitter:["",o.kI.required]})}}f.\u0275fac=function(t){return new(t||f)(e.Y36(_.f),e.Y36(o.qu),e.Y36(u.F0))},f.\u0275cmp=e.Xpm({type:f,selectors:[["app-post-user"]],decls:12,vars:6,consts:[["class","fade show spinner",4,"ngIf"],[4,"ngIf"],["id","infoModal",3,"visible","alignment","visibleChange"],["cModalTitle",""],["cButtonClose","",3,"click"],["cButton","","color","secondary",3,"click"],[1,"fade","show","spinner"],[1,"spinner-grow","spinner-grow-sm"],[1,"m-1"],["cForm","",1,"row","g-3","needs-validation",3,"formGroup","validated","ngSubmit"],["md","6"],["cLabel","","for","username"],["cFormControl","","id","username","formControlName","username","required","","type","text"],[3,"valid"],["cLabel","","for","email"],["cFormControl","","id","email","formControlName","email","required","","type","text"],["cLabel","","for","name"],["cFormControl","","id","name","formControlName","name","required","","type","text"],["cLabel","","for","type"],["cFormControl","","id","type","formControlName","type","required","",1,"form-select"],["value","desarrollador","selected",""],["value","administrador"],["value","soporte"],[1,"row"],["md","4"],["cLabel","","for","facebook"],["cFormControl","","id","facebook","formControlName","facebook","accept","image/png, image/jpeg","required","","type","file"],["cLabel","","for","instagram"],["cFormControl","","id","instagram","formControlName","instagram","accept","image/png, image/jpeg","required","","type","file"],["cLabel","","for","twitter"],["cFormControl","","id","twitter","formControlName","twitter","accept","image/png, image/jpeg","required","","type","file"],["cButton","","color","primary","type","submit",1,"update-button","row-margin-bottom"]],template:function(t,r){1&t&&(e.YNc(0,C,4,0,"div",0),e.YNc(1,k,73,16,"div",1),e.TgZ(2,"c-modal",2),e.NdJ("visibleChange",function(n){return r.handleInfoModalChange(n)}),e.TgZ(3,"c-modal-header")(4,"h5",3),e._uU(5),e.qZA(),e.TgZ(6,"button",4),e.NdJ("click",function(){return r.openCloseInfoModal(!1)}),e.qZA()(),e.TgZ(7,"c-modal-body"),e._uU(8),e.qZA(),e.TgZ(9,"c-modal-footer")(10,"button",5),e.NdJ("click",function(){return r.openCloseInfoModal(!1)}),e._uU(11," Cerrar "),e.qZA()()()),2&t&&(e.Q6J("ngIf",r.showSpinner),e.xp6(1),e.Q6J("ngIf",0==r.showSpinner),e.xp6(1),e.Q6J("visible",r.visible)("alignment","center"),e.xp6(3),e.Oqu(r.modalTitle),e.xp6(3),e.hij(" ",r.modalMessage," "))},dependencies:[c.O5,i.iok,i.Yp0,i.$_X,i.oHf,i.dCl,i.eFW,i.Hq3,i.PFQ,o._Y,o.YN,o.Kr,o.Fj,o.EJ,o.JJ,o.JL,o.Q7,o.sg,o.u,i.KF4,i.YI7,i.Rbl,i.vPP,i.zS7],styles:[".spinner[_ngcontent-%COMP%]{text-align:center;padding-top:33.3333333333vh;height:50vh}.update-button[_ngcontent-%COMP%]{width:100%}.row[_ngcontent-%COMP%]{margin-top:2%}.row-margin-bottom[_ngcontent-%COMP%]{margin-bottom:10%}"]});var Z=l(7185);function q(s,t){1&s&&(e.TgZ(0,"div",6),e._UZ(1,"i",7),e.TgZ(2,"span",8),e._uU(3,"Cargando usuarios..."),e.qZA()())}const I=function(){return["/users/user"]};function F(s,t){if(1&s&&(e.TgZ(0,"c-col",10)(1,"c-card",11)(2,"c-card-body")(3,"h5",12),e._uU(4),e.qZA(),e.TgZ(5,"c-row")(6,"c-col",13)(7,"button",14),e._uU(8,"Ver detalles"),e.qZA()()()()()()),2&s){const r=t.$implicit;e.Q6J("sm",3),e.xp6(4),e.Oqu(r.username),e.xp6(3),e.Q6J("routerLink",e.DdM(4,I))("state",r)}}function A(s,t){if(1&s&&(e.TgZ(0,"div")(1,"c-row"),e.YNc(2,F,9,5,"c-col",9),e.qZA()()),2&s){const r=e.oxw();e.xp6(2),e.Q6J("ngForOf",r.users)}}class g{constructor(t,r){this.usersService=t,this.toastr=r,this.users=new Array,this.showSpinner=!0,this.modalMessage="",this.modalTitle="Atenci\xf3n",this.visible=!1}ngOnInit(){this.usersService.getUsers().subscribe({error:t=>{this.modalMessage=t.error.replace(/['"]+/g,""),this.openCloseInfoModal()},next:t=>{this.showSpinner=!1,0==t.length&&(this.modalMessage="A\xfan no hay usuarios.",this.openCloseInfoModal()),this.users=t}})}deleteUser(t){this.showSpinner=!0,this.usersService.deleteUser(t).subscribe({error:r=>{this.showSpinner=!1,this.modalMessage=r.error.replace(/['"]+/g,""),this.openCloseInfoModal()},next:()=>{this.showSpinner=!1,this.toastr.success("El usuario se elimin\xf3 correctamente","\xc9xito"),setTimeout(()=>{location.reload()},3e3)}})}openCloseInfoModal(){this.visible=!this.visible}handleInfoModalChange(t){this.visible=t}}g.\u0275fac=function(t){return new(t||g)(e.Y36(_.f),e.Y36(Z._W))},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-get-users"]],decls:12,vars:6,consts:[["class","fade show spinner",4,"ngIf"],[4,"ngIf"],["id","infoModal",3,"visible","alignment","visibleChange"],["cModalTitle",""],["cButtonClose","",3,"click"],["cButton","","color","secondary",3,"click"],[1,"fade","show","spinner"],[1,"spinner-grow","spinner-grow-sm"],[1,"m-1"],[3,"sm",4,"ngFor","ngForOf"],[3,"sm"],[1,"mb-4"],["cCardTitle",""],[1,"text-end","mb-12"],["cButton","","color","dark","size","sm",1,"mb-4",3,"routerLink","state"]],template:function(t,r){1&t&&(e.YNc(0,q,4,0,"div",0),e.YNc(1,A,3,1,"div",1),e.TgZ(2,"c-modal",2),e.NdJ("visibleChange",function(n){return r.handleInfoModalChange(n)}),e.TgZ(3,"c-modal-header")(4,"h5",3),e._uU(5),e.qZA(),e.TgZ(6,"button",4),e.NdJ("click",function(){return r.openCloseInfoModal()}),e.qZA()(),e.TgZ(7,"c-modal-body"),e._uU(8),e.qZA(),e.TgZ(9,"c-modal-footer")(10,"button",5),e.NdJ("click",function(){return r.openCloseInfoModal()}),e._uU(11," Cerrar "),e.qZA()()()),2&t&&(e.Q6J("ngIf",r.showSpinner),e.xp6(1),e.Q6J("ngIf",0==r.showSpinner),e.xp6(1),e.Q6J("visible",r.visible)("alignment","center"),e.xp6(3),e.Oqu(r.modalTitle),e.xp6(3),e.Oqu(r.modalMessage))},dependencies:[c.sg,c.O5,u.rH,i.AkF,i.yue,i.qkm,i.iok,i.Yp0,i.Hq3,i.PFQ,i.KF4,i.YI7,i.Rbl,i.vPP,i.zS7],styles:[".spinner[_ngcontent-%COMP%]{text-align:center;padding-top:33.3333333333vh;height:50vh}.update-button[_ngcontent-%COMP%]{margin-right:5%}"]});var y=l(1481);function x(s,t){1&s&&(e.TgZ(0,"div",7),e._UZ(1,"i",8),e.TgZ(2,"span",9),e._uU(3,"Eliminando usuario..."),e.qZA()())}const M=function(){return["/users/update"]};function J(s,t){if(1&s){const r=e.EpF();e.TgZ(0,"div")(1,"c-row",10)(2,"c-row")(3,"c-col",11)(4,"h1"),e._uU(5),e.qZA()()(),e._UZ(6,"br")(7,"br")(8,"br"),e.TgZ(9,"c-row")(10,"c-col",12)(11,"button",13),e.O4$(),e._UZ(12,"svg",14),e._uU(13,"Modificar"),e.qZA(),e.kcU(),e.TgZ(14,"button",15),e.NdJ("click",function(){e.CHM(r);const n=e.oxw();return e.KtG(n.showDeleteModal())}),e.O4$(),e._UZ(15,"svg",16),e._uU(16,"Eliminar"),e.qZA()()(),e.kcU(),e._UZ(17,"br")(18,"br")(19,"br")(20,"br"),e.TgZ(21,"c-row")(22,"c-col",17)(23,"h4"),e._uU(24,"Nombre"),e.qZA(),e.TgZ(25,"p"),e._uU(26),e.qZA()()(),e._UZ(27,"br")(28,"br")(29,"br"),e.TgZ(30,"c-row")(31,"c-col",17)(32,"h4"),e._uU(33,"Correo electr\xf3nico"),e.qZA(),e.TgZ(34,"p"),e._uU(35),e.qZA()(),e.TgZ(36,"c-col",17)(37,"h4"),e._uU(38,"Tipo de usuario"),e.qZA(),e.TgZ(39,"p"),e._uU(40),e.qZA()()(),e._UZ(41,"br")(42,"br")(43,"br"),e.qZA(),e._UZ(44,"br"),e.TgZ(45,"c-row",10)(46,"h5"),e._uU(47),e.qZA()(),e.TgZ(48,"c-row",18)(49,"c-col",12)(50,"c-row",19)(51,"h6"),e._uU(52,"Facebook"),e.qZA()(),e.TgZ(53,"c-row"),e._UZ(54,"img",20),e.qZA()(),e.TgZ(55,"c-col",12)(56,"c-row",19)(57,"h6"),e._uU(58,"Instagram"),e.qZA()(),e.TgZ(59,"c-row"),e._UZ(60,"img",20),e.qZA()(),e.TgZ(61,"c-col",12)(62,"c-row",19)(63,"h6"),e._uU(64,"Twitter"),e.qZA()(),e.TgZ(65,"c-row"),e._UZ(66,"img",20),e.qZA()()()()}if(2&s){const r=e.oxw();e.xp6(5),e.Oqu(r.user.username),e.xp6(5),e.Q6J("sm",3),e.xp6(1),e.Q6J("routerLink",e.DdM(14,M))("state",r.user),e.xp6(15),e.Oqu(r.user.name),e.xp6(9),e.Oqu(r.user.email),e.xp6(5),e.Oqu(r.user.type),e.xp6(7),e.hij("Redes sociales de ",r.user.username,""),e.xp6(2),e.Q6J("sm",4),e.xp6(5),e.Q6J("src",r.user.imagenFacebook,e.LSH),e.xp6(1),e.Q6J("sm",4),e.xp6(5),e.Q6J("src",r.user.imagenInstagram,e.LSH),e.xp6(1),e.Q6J("sm",4),e.xp6(5),e.Q6J("src",r.user.imagenTwitter,e.LSH)}}function Q(s,t){if(1&s){const r=e.EpF();e.TgZ(0,"button",21),e.NdJ("click",function(){e.CHM(r);const n=e.oxw();return e.KtG(n.onDeleteUser())}),e._uU(1,"Eliminar"),e.qZA()}}class U{ngOnInit(){this.user=history.state;var t=btoa(new Uint8Array(this.user.facebook.data.data).reduce((n,m)=>n+String.fromCharCode(m),""));this.user.imagenFacebook=this.domSanitizer.bypassSecurityTrustResourceUrl("data:"+this.user.facebook.tipoImagen+";base64, "+t);var r=btoa(new Uint8Array(this.user.instagram.data.data).reduce((n,m)=>n+String.fromCharCode(m),""));this.user.imagenInstagram=this.domSanitizer.bypassSecurityTrustResourceUrl("data:"+this.user.instagram.tipoImagen+";base64, "+r);var a=btoa(new Uint8Array(this.user.twitter.data.data).reduce((n,m)=>n+String.fromCharCode(m),""));this.user.imagenTwitter=this.domSanitizer.bypassSecurityTrustResourceUrl("data:"+this.user.twitter.tipoImagen+";base64, "+a)}constructor(t,r,a,n,m){this.usersService=t,this.formBuilder=r,this.router=a,this.toastr=n,this.domSanitizer=m,this.deleteButton=!1,this.user={username:"",email:"",name:"",type:"",facebook:{data:{data:new ArrayBuffer(0),type:""},tipoImagen:""},imagenFacebook:"",facepath:"",instagram:{data:{data:new ArrayBuffer(0),type:""},tipoImagen:""},imagenInstagram:"",instapath:"",twitter:{data:{data:new ArrayBuffer(0),type:""},tipoImagen:""},imagenTwitter:"",twitterpath:""},this.showSpinner=!1,this.modalMessage="",this.modalTitle="Atenci\xf3n",this.visible=!1,this.error=!1}showDeleteModal(){this.deleteButton=!0,this.modalMessage="\xbfEst\xe1 seguro de eliminar "+this.user.username+"?",this.openCloseInfoModal()}onDeleteUser(){this.openCloseInfoModal(),this.showSpinner=!0,this.usersService.deleteUser(this.user.email).subscribe({error:t=>{this.showSpinner=!1,this.modalMessage=t.error.replace(/['"]+/g,""),this.openCloseInfoModal()},next:()=>{this.showSpinner=!1,this.router.navigate(["/users"])}})}openCloseInfoModal(){this.visible=!this.visible}handleInfoModalChange(t){this.visible=t}}U.\u0275fac=function(t){return new(t||U)(e.Y36(_.f),e.Y36(o.qu),e.Y36(u.F0),e.Y36(Z._W),e.Y36(y.H7))},U.\u0275cmp=e.Xpm({type:U,selectors:[["app-user-detail"]],decls:13,vars:7,consts:[["class","fade show spinner",4,"ngIf"],[4,"ngIf"],["id","infoModal",3,"visible","alignment","visibleChange"],["cModalTitle",""],["cButtonClose","",3,"click"],["cButton","","color","danger",3,"click",4,"ngIf"],["cButton","","color","secondary",3,"click"],[1,"fade","show","spinner"],[1,"spinner-grow","spinner-grow-sm"],[1,"m-1"],[1,"row-title"],["md","8"],[3,"sm"],["cButton","","color","info","size","sm",1,"crud-button","right-margin",2,"margin-right","7%",3,"routerLink","state"],["cIcon","","name","cilPencil",1,"me-2","icon"],["cButton","","color","danger","size","sm",1,"crud-button",3,"click"],["cIcon","","name","cilTrash",1,"me-2","icon"],["md","6"],[1,"row-social-net"],[1,"text-center"],["cCardImg","top",1,"w-50","p-3","rounded","mx-auto","d-block",3,"src"],["cButton","","color","danger",3,"click"]],template:function(t,r){1&t&&(e.YNc(0,x,4,0,"div",0),e.YNc(1,J,67,15,"div",1),e.TgZ(2,"c-modal",2),e.NdJ("visibleChange",function(n){return r.handleInfoModalChange(n)}),e.TgZ(3,"c-modal-header")(4,"h5",3),e._uU(5),e.qZA(),e.TgZ(6,"button",4),e.NdJ("click",function(){return r.openCloseInfoModal()}),e.qZA()(),e.TgZ(7,"c-modal-body"),e._uU(8),e.qZA(),e.TgZ(9,"c-modal-footer"),e.YNc(10,Q,2,0,"button",5),e.TgZ(11,"button",6),e.NdJ("click",function(){return r.openCloseInfoModal()}),e._uU(12," Cerrar "),e.qZA()()()),2&t&&(e.Q6J("ngIf",r.showSpinner),e.xp6(1),e.Q6J("ngIf",0==r.showSpinner),e.xp6(1),e.Q6J("visible",r.visible)("alignment","center"),e.xp6(3),e.Oqu(r.modalTitle),e.xp6(3),e.hij(" ",r.modalMessage," "),e.xp6(2),e.Q6J("ngIf",r.deleteButton))},dependencies:[c.O5,u.rH,i.pce,i.iok,i.Yp0,b.ar,i.Hq3,i.PFQ,i.KF4,i.YI7,i.Rbl,i.vPP,i.zS7]});const S=[{path:"",redirectTo:"get",pathMatch:"full"},{path:"",data:{title:"Usuarios"},children:[{path:"",pathMatch:"full",redirectTo:"colors"},{path:"update",component:h,data:{title:"Actualizar usuario"}},{path:"post",component:f,data:{title:"Registrar usuario"}},{path:"get",component:g,data:{title:"Usuarios"}},{path:"user",component:U,data:{title:"Detalles del usuario"}}]}];class d{}d.\u0275fac=function(t){return new(t||d)},d.\u0275mod=e.oAB({type:d}),d.\u0275inj=e.cJS({imports:[u.Bz.forChild(S),u.Bz]});class p{}p.\u0275fac=function(t){return new(t||p)},p.\u0275mod=e.oAB({type:p}),p.\u0275inj=e.cJS({imports:[c.ez,d,i.dTQ,i.zE6,i.gzQ,b.QX,i.dGk,i.P4_,i.ejP,i.hJ1,o.u5,o.UX,i.ga2,i.kWm,i.m81,i.Xo8,i.zkK]})}}]);
"use strict";(self.webpackChunkcoreui_free_angular_admin_template=self.webpackChunkcoreui_free_angular_admin_template||[]).push([[28],{8028:(Z,u,i)=>{i.r(u),i.d(u,{TagsModule:()=>m});var c=i(6895),T=i(1334),n=i(433),e=i(6602),p=i(593),h=i(8600),t=i(1571),f=i(623);function v(s,a){1&s&&(t.TgZ(0,"div",12),t._uU(1,"Nombre v\xe1lido"),t.qZA())}function b(s,a){1&s&&(t.TgZ(0,"div",13),t._uU(1,"Ingrese el nombre de la etiqueta"),t.qZA())}class d{constructor(a,o){this.TagsService=a,this.formBuilder=o,this.postTagForm=new n.cw({}),this.validatedForm=!1,this.newTag={id:-1,name:""},this.modalMessage="",this.modalTitle="Creaci\xf3n de etiqueta",this.visible=!1}getPostTagForm(){return this.postTagForm}ngOnInit(){this.postTagForm=this.formBuilder.group({name:["",n.kI.required]})}onPostTag(){this.TagsService.getMaxId().subscribe(a=>{this.newTag.id=a+1,this.newTag.name=this.postTagForm.value.name,console.log(this.newTag),this.TagsService.postTag(this.newTag).subscribe({error:o=>{this.modalMessage=o.error.replace(/['"]+/g,""),this.openCloseInfoModal()},next:o=>{this.modalMessage=o,this.openCloseInfoModal()}})})}submitTag(){this.validatedForm=!0,this.postTagForm.dirty&&this.postTagForm.valid&&this.onPostTag()}openCloseInfoModal(){this.visible=!this.visible,this.visible||this.resetForm()}handleInfoModalChange(a){this.visible=a}resetForm(){this.validatedForm=!1,this.postTagForm=this.formBuilder.group({name:["",n.kI.required]})}}d.\u0275fac=function(a){return new(a||d)(t.Y36(f.i),t.Y36(n.qu))},d.\u0275cmp=t.Xpm({type:d,selectors:[["app-post-tag"]],decls:22,vars:7,consts:[["novalidate","",1,"row","g-3","needs-validation",3,"formGroup","ngSubmit"],[1,"col-md-4"],["for","name"],["id","name","formControlName","name","required","","type","text",1,"form-control"],["class","valid-feedback",4,"ngIf"],["class","invalid-feedback",4,"ngIf"],[1,"col-xs-12"],["type","button",1,"btn","btn-primary",3,"click"],["id","infoModal",3,"visible","alignment","visibleChange"],["cModalTitle",""],["cButtonClose","",3,"click"],["cButton","","color","secondary",3,"click"],[1,"valid-feedback"],[1,"invalid-feedback"]],template:function(a,o){if(1&a&&(t.TgZ(0,"h2"),t._uU(1,"Crear etiqueta"),t.qZA(),t.TgZ(2,"form",0),t.NdJ("ngSubmit",function(){return o.submitTag()}),t.TgZ(3,"div",1)(4,"label",2),t._uU(5,"Nombre"),t.qZA(),t._UZ(6,"input",3),t.YNc(7,v,2,0,"div",4),t.YNc(8,b,2,0,"div",5),t.qZA(),t.TgZ(9,"div",6)(10,"button",7),t.NdJ("click",function(){return o.submitTag()}),t._uU(11," Guardar "),t.qZA()()(),t.TgZ(12,"c-modal",8),t.NdJ("visibleChange",function(g){return o.handleInfoModalChange(g)}),t.TgZ(13,"c-modal-header")(14,"h5",9),t._uU(15),t.qZA(),t.TgZ(16,"button",10),t.NdJ("click",function(){return o.openCloseInfoModal()}),t.qZA()(),t.TgZ(17,"c-modal-body"),t._uU(18),t.qZA(),t.TgZ(19,"c-modal-footer")(20,"button",11),t.NdJ("click",function(){return o.openCloseInfoModal()}),t._uU(21," Cerrar "),t.qZA()()()),2&a){let l,g;t.xp6(2),t.Q6J("formGroup",o.getPostTagForm()),t.xp6(5),t.Q6J("ngIf",null==(l=o.getPostTagForm().get("name"))?null:l.valid),t.xp6(1),t.Q6J("ngIf",null==(g=o.getPostTagForm().get("name"))?null:g.invalid),t.xp6(4),t.Q6J("visible",o.visible)("alignment","center"),t.xp6(3),t.Oqu(o.modalTitle),t.xp6(3),t.Oqu(o.modalMessage)}},dependencies:[c.O5,e.Hq3,e.PFQ,n._Y,n.Fj,n.JJ,n.JL,n.Q7,n.sg,n.u,e.KF4,e.YI7,e.Rbl,e.vPP,e.zS7]});var C=i(2079);const F=[{path:"",redirectTo:"get",pathMatch:"full"},{path:"",data:{title:"Etiquetas"},children:[{path:"",pathMatch:"full",redirectTo:"colors"},{path:"post",component:d,data:{title:"Crear etiqueta"}},{path:"update",component:C.f,data:{title:"Actualizar etiqueta"}},{path:"get",component:h.W,data:{title:"Etiquetas"}}]}];class r{}r.\u0275fac=function(a){return new(a||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[p.Bz.forChild(F),p.Bz]});class m{}m.\u0275fac=function(a){return new(a||m)},m.\u0275mod=t.oAB({type:m}),m.\u0275inj=t.cJS({imports:[c.ez,r,e.dTQ,e.zE6,e.gzQ,T.QX,e.dGk,e.P4_,e.ejP,e.hJ1,n.u5,n.UX,e.ga2,e.kWm,e.m81,e.Xo8,e.zkK]})}}]);
"use strict";(self.webpackChunkcoreui_free_angular_admin_template=self.webpackChunkcoreui_free_angular_admin_template||[]).push([[484],{8484:(D,U,u)=>{u.r(U),u.d(U,{UsersModule:()=>H});var c=u(6895),g=u(1334),r=u(433),i=u(6602),m=u(593),e=u(1571),p=u(4961);function b(o,n){1&o&&(e.TgZ(0,"div",6),e._UZ(1,"i",7),e.TgZ(2,"span",8),e._uU(3,"Editando usuario..."),e.qZA()())}function v(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"h2"),e._uU(2,"Editar usuario"),e.qZA(),e.TgZ(3,"form",9),e.NdJ("ngSubmit",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.submitUser())}),e.TgZ(4,"c-row")(5,"c-col",10)(6,"label",11),e._uU(7,"Nombre de usuario"),e.qZA(),e._UZ(8,"input",12),e.TgZ(9,"c-form-feedback",13),e._uU(10,"Nombre de usuario v\xe1lido"),e.qZA(),e.TgZ(11,"c-form-feedback",13),e._uU(12,"Ingrese el nombre de usuario"),e.qZA()(),e.TgZ(13,"c-col",10)(14,"label",14),e._uU(15,"Correo electr\xf3nico"),e.qZA(),e._UZ(16,"input",15),e.TgZ(17,"c-form-feedback",13),e._uU(18,"Correo electr\xf3nico v\xe1lido"),e.qZA(),e.TgZ(19,"c-form-feedback",13),e._uU(20,"Ingrese el correo electr\xf3nico"),e.qZA()()(),e.TgZ(21,"c-row")(22,"c-col",10)(23,"label",16),e._uU(24,"Nombre"),e.qZA(),e._UZ(25,"input",17),e.TgZ(26,"c-form-feedback",13),e._uU(27,"Nombre v\xe1lido"),e.qZA(),e.TgZ(28,"c-form-feedback",13),e._uU(29,"Ingrese el nombre del usuario"),e.qZA()(),e.TgZ(30,"c-col",10)(31,"label",18),e._uU(32,"Tipo de usuario"),e.qZA(),e.TgZ(33,"select",19)(34,"option",20),e._uU(35,"Desarrollador"),e.qZA(),e.TgZ(36,"option",21),e._uU(37,"Administrador"),e.qZA(),e.TgZ(38,"option",22),e._uU(39,"Soporte"),e.qZA()(),e.TgZ(40,"c-form-feedback",13),e._uU(41,"Tipo de usuario seleccionado"),e.qZA(),e.TgZ(42,"c-form-feedback",13),e._uU(43,"Ingrese el tipo de usuario"),e.qZA()()(),e.TgZ(44,"c-row",23)(45,"c-col",24)(46,"label",25),e._uU(47,"Facebook"),e.qZA(),e._UZ(48,"input",26),e.TgZ(49,"c-form-feedback",13),e._uU(50,"Archivo v\xe1lido"),e.qZA(),e.TgZ(51,"c-form-feedback",13),e._uU(52,"Ingrese el archivo"),e.qZA()(),e.TgZ(53,"c-col",24)(54,"label",27),e._uU(55,"Instagram"),e.qZA(),e._UZ(56,"input",28),e.TgZ(57,"c-form-feedback",13),e._uU(58,"Archivo v\xe1lido"),e.qZA(),e.TgZ(59,"c-form-feedback",13),e._uU(60,"Ingrese el archivo"),e.qZA()(),e.TgZ(61,"c-col",24)(62,"label",29),e._uU(63,"Twitter"),e.qZA(),e._UZ(64,"input",30),e.TgZ(65,"c-form-feedback",13),e._uU(66,"Archivo v\xe1lido"),e.qZA(),e.TgZ(67,"c-form-feedback",13),e._uU(68,"Ingrese el archivo"),e.qZA()()(),e.TgZ(69,"c-row",23)(70,"c-col",24)(71,"button",31),e._uU(72," Editar "),e.qZA()()()()()}if(2&o){const t=e.oxw();e.xp6(3),e.Q6J("formGroup",t.getPutUserForm())("validated",t.validatedForm),e.xp6(6),e.Q6J("valid",!0),e.xp6(2),e.Q6J("valid",!1),e.xp6(6),e.Q6J("valid",!0),e.xp6(2),e.Q6J("valid",!1),e.xp6(7),e.Q6J("valid",!0),e.xp6(2),e.Q6J("valid",!1),e.xp6(12),e.Q6J("valid",!0),e.xp6(2),e.Q6J("valid",!1),e.xp6(7),e.Q6J("valid",!0),e.xp6(2),e.Q6J("valid",!1),e.xp6(6),e.Q6J("valid",!0),e.xp6(2),e.Q6J("valid",!1),e.xp6(6),e.Q6J("valid",!0),e.xp6(2),e.Q6J("valid",!1)}}let Z=(()=>{class o{ngOnInit(){this._id=history.state._id,this.newUser.username=history.state.username,this.newUser.email=history.state.email,this.newUser.name=history.state.name,this.newUser.type=history.state.type,this.putUserForm=this.formBuilder.group({username:[this.newUser.username,r.kI.required],email:[this.newUser.email,r.kI.required],name:[this.newUser.name,r.kI.required],type:[this.newUser.type,r.kI.required],facebook:["",r.kI.required],instagram:["",r.kI.required],twitter:["",r.kI.required]})}constructor(t,a,s){this.usersService=t,this.formBuilder=a,this.router=s,this._id="",this.validatedForm=!1,this.excalinestImgPath="C:\\Excalinest\\img\\",this.fakePath="C:\\fakepath\\",this.newUser={username:"",email:"",name:"",type:"",facebook:{data:{data:new ArrayBuffer(0),type:""},tipoImagen:""},imagenFacebook:"",facepath:"",instagram:{data:{data:new ArrayBuffer(0),type:""},tipoImagen:""},imagenInstagram:"",instapath:"",twitter:{data:{data:new ArrayBuffer(0),type:""},tipoImagen:""},imagenTwitter:"",twitterpath:""},this.showSpinner=!1,this.modalMessage="",this.modalTitle="Atenci\xf3n",this.visible=!1,this.error=!1}getPutUserForm(){return this.putUserForm}onPutUser(){""!=this.putUserForm.value.username&&(this.newUser.username=this.putUserForm.value.username),""!=this.putUserForm.value.email&&(this.newUser.email=this.putUserForm.value.email),""!=this.putUserForm.value.name&&(this.newUser.name=this.putUserForm.value.name),""!=this.putUserForm.value.type&&(this.newUser.type=this.putUserForm.value.type),""!=this.putUserForm.value.facebook&&(this.newUser.facepath=this.putUserForm.value.facebook.replace(this.fakePath,this.excalinestImgPath)),""!=this.putUserForm.value.instagram&&(this.newUser.instapath=this.putUserForm.value.instagram.replace(this.fakePath,this.excalinestImgPath)),""!=this.putUserForm.value.twitter&&(this.newUser.twitterpath=this.putUserForm.value.twitter.replace(this.fakePath,this.excalinestImgPath)),this.showSpinner=!0,this.usersService.putUser(this._id,this.newUser).subscribe({error:t=>{this.showSpinner=!1,this.error=!0,this.modalMessage=t.error.replace(/['"]+/g,""),this.openCloseInfoModal(!1)},next:t=>{this.showSpinner=!1,this.error=!1,this.modalMessage=t.replace(/['"]+/g,""),this.openCloseInfoModal(!0)}})}isValidForm(){return""!=this.putUserForm.value.username||""!=this.putUserForm.value.email||""!=this.putUserForm.value.name||""!=this.putUserForm.value.facebook||""!=this.putUserForm.value.instagram||""!=this.putUserForm.value.twitter}submitUser(){this.validateEmailFormat()?(this.validatedForm=!0,this.isValidForm()&&this.onPutUser()):(this.error=!0,this.modalMessage="Error: Formato de correo electr\xf3nico no v\xe1lido",this.openCloseInfoModal(!1))}validateEmailFormat(){return""==this.putUserForm.value.email||this.putUserForm.value.email.match(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/)}openCloseInfoModal(t){this.visible=!this.visible,t?this.visible&&t&&this.resetForm():this.completeForm(),!this.visible&&!this.error&&this.router.navigate(["/users"])}handleInfoModalChange(t){this.visible=t}resetForm(){this.validatedForm=!1,this.putUserForm=this.formBuilder.group({username:["",r.kI.required],email:["",r.kI.required],name:["",r.kI.required],type:["",r.kI.required],facebook:["",r.kI.required],instagram:["",r.kI.required],twitter:["",r.kI.required]})}completeForm(){this.validatedForm=!1,this.putUserForm=this.formBuilder.group({username:[this.putUserForm.value.username,r.kI.required],email:[this.putUserForm.value.email,r.kI.required],name:[this.putUserForm.value.name,r.kI.required],type:[this.putUserForm.value.type,r.kI.required],facebook:["",r.kI.required],instagram:["",r.kI.required],twitter:["",r.kI.required]})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(p.f),e.Y36(r.qu),e.Y36(m.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-update-user"]],decls:12,vars:6,consts:[["class","fade show spinner",4,"ngIf"],[4,"ngIf"],["id","infoModal",3,"visible","alignment","visibleChange"],["cModalTitle",""],["cButtonClose","",3,"click"],["cButton","","color","secondary",3,"click"],[1,"fade","show","spinner"],[1,"spinner-grow","spinner-grow-sm"],[1,"m-1"],["cForm","",1,"row","g-3","needs-validation",3,"formGroup","validated","ngSubmit"],["md","6"],["cLabel","","for","username"],["cFormControl","","id","username","formControlName","username","type","text"],[3,"valid"],["cLabel","","for","email"],["cFormControl","","id","email","formControlName","email","type","text"],["cLabel","","for","name"],["cFormControl","","id","name","formControlName","name","type","text"],["cLabel","","for","type"],["cFormControl","","id","type","formControlName","type",1,"form-select"],["value","desarrollador","selected",""],["value","administrador"],["value","soporte"],[1,"row"],["md","4"],["cLabel","","for","facebook"],["cFormControl","","id","facebook","formControlName","facebook","type","file"],["cLabel","","for","instagram"],["cFormControl","","id","instagram","formControlName","instagram","type","file"],["cLabel","","for","twitter"],["cFormControl","","id","twitter","formControlName","twitter","type","file"],["cButton","","color","primary","type","submit",1,"update-button","row-margin-bottom"]],template:function(t,a){1&t&&(e.YNc(0,b,4,0,"div",0),e.YNc(1,v,73,16,"div",1),e.TgZ(2,"c-modal",2),e.NdJ("visibleChange",function(l){return a.handleInfoModalChange(l)}),e.TgZ(3,"c-modal-header")(4,"h5",3),e._uU(5),e.qZA(),e.TgZ(6,"button",4),e.NdJ("click",function(){return a.openCloseInfoModal(!1)}),e.qZA()(),e.TgZ(7,"c-modal-body"),e._uU(8),e.qZA(),e.TgZ(9,"c-modal-footer")(10,"button",5),e.NdJ("click",function(){return a.openCloseInfoModal(!1)}),e._uU(11," Cerrar "),e.qZA()()()),2&t&&(e.Q6J("ngIf",a.showSpinner),e.xp6(1),e.Q6J("ngIf",0==a.showSpinner),e.xp6(1),e.Q6J("visible",a.visible)("alignment","center"),e.xp6(3),e.Oqu(a.modalTitle),e.xp6(3),e.hij(" ",a.modalMessage," "))},dependencies:[c.O5,i.iok,i.Yp0,i.$_X,i.oHf,i.dCl,i.eFW,i.Hq3,i.PFQ,r._Y,r.YN,r.Kr,r.Fj,r.EJ,r.JJ,r.JL,r.sg,r.u,i.KF4,i.YI7,i.Rbl,i.vPP,i.zS7],styles:[".spinner[_ngcontent-%COMP%]{text-align:center;padding-top:33.3333333333vh;height:50vh}.update-button[_ngcontent-%COMP%]{width:100%}.row[_ngcontent-%COMP%]{margin-top:2%}.row-margin-bottom[_ngcontent-%COMP%]{margin-bottom:10%}"]}),o})();function w(o,n){1&o&&(e.TgZ(0,"div",6),e._UZ(1,"i",7),e.TgZ(2,"span",8),e._uU(3,"Registrando usuario..."),e.qZA()())}function T(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"h2"),e._uU(2,"Registrar usuario"),e.qZA(),e.TgZ(3,"form",9),e.NdJ("ngSubmit",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.submitUser())}),e.TgZ(4,"c-row")(5,"c-col",10)(6,"label",11),e._uU(7,"Nombre de usuario"),e.qZA(),e._UZ(8,"input",12),e.TgZ(9,"c-form-feedback",13),e._uU(10,"Nombre de usuario v\xe1lido"),e.qZA(),e.TgZ(11,"c-form-feedback",13),e._uU(12,"Ingrese el nombre de usuario"),e.qZA()(),e.TgZ(13,"c-col",10)(14,"label",14),e._uU(15,"Correo electr\xf3nico"),e.qZA(),e._UZ(16,"input",15),e.TgZ(17,"c-form-feedback",13),e._uU(18,"Correo electr\xf3nico v\xe1lido"),e.qZA(),e.TgZ(19,"c-form-feedback",13),e._uU(20,"Ingrese el correo electr\xf3nico"),e.qZA()()(),e.TgZ(21,"c-row")(22,"c-col",10)(23,"label",16),e._uU(24,"Nombre completo"),e.qZA(),e._UZ(25,"input",17),e.TgZ(26,"c-form-feedback",13),e._uU(27,"Nombre completo v\xe1lido"),e.qZA(),e.TgZ(28,"c-form-feedback",13),e._uU(29,"Ingrese el nombre completo"),e.qZA()(),e.TgZ(30,"c-col",10)(31,"label",18),e._uU(32,"Tipo de usuario"),e.qZA(),e.TgZ(33,"select",19)(34,"option",20),e._uU(35,"Desarrollador"),e.qZA(),e.TgZ(36,"option",21),e._uU(37,"Administrador"),e.qZA(),e.TgZ(38,"option",22),e._uU(39,"Soporte"),e.qZA()(),e.TgZ(40,"c-form-feedback",13),e._uU(41,"Tipo de usuario seleccionado"),e.qZA(),e.TgZ(42,"c-form-feedback",13),e._uU(43,"Ingrese el tipo de usuario"),e.qZA()()(),e.TgZ(44,"c-row",23)(45,"c-col",24)(46,"label",25),e._uU(47,"Facebook"),e.qZA(),e._UZ(48,"input",26),e.TgZ(49,"c-form-feedback",13),e._uU(50,"Archivo v\xe1lido"),e.qZA(),e.TgZ(51,"c-form-feedback",13),e._uU(52,"Ingrese el archivo"),e.qZA()(),e.TgZ(53,"c-col",24)(54,"label",27),e._uU(55,"Instagram"),e.qZA(),e._UZ(56,"input",28),e.TgZ(57,"c-form-feedback",13),e._uU(58,"Archivo v\xe1lido"),e.qZA(),e.TgZ(59,"c-form-feedback",13),e._uU(60,"Ingrese el archivo"),e.qZA()(),e.TgZ(61,"c-col",24)(62,"label",29),e._uU(63,"Twitter"),e.qZA(),e._UZ(64,"input",30),e.TgZ(65,"c-form-feedback",13),e._uU(66,"Archivo v\xe1lido"),e.qZA(),e.TgZ(67,"c-form-feedback",13),e._uU(68,"Ingrese el archivo"),e.qZA()()(),e.TgZ(69,"c-row",23)(70,"c-col",24)(71,"button",31),e._uU(72," Registrar "),e.qZA()()()()()}if(2&o){const t=e.oxw();e.xp6(3),e.Q6J("formGroup",t.getPostUserForm())("validated",t.validatedForm),e.xp6(6),e.Q6J("valid",!0),e.xp6(2),e.Q6J("valid",!1),e.xp6(6),e.Q6J("valid",!0),e.xp6(2),e.Q6J("valid",!1),e.xp6(7),e.Q6J("valid",!0),e.xp6(2),e.Q6J("valid",!1),e.xp6(12),e.Q6J("valid",!0),e.xp6(2),e.Q6J("valid",!1),e.xp6(7),e.Q6J("valid",!0),e.xp6(2),e.Q6J("valid",!1),e.xp6(6),e.Q6J("valid",!0),e.xp6(2),e.Q6J("valid",!1),e.xp6(6),e.Q6J("valid",!0),e.xp6(2),e.Q6J("valid",!1)}}let C=(()=>{class o{ngOnInit(){this.postUserForm=this.formBuilder.group({username:["",r.kI.required],email:["",r.kI.required],name:["",r.kI.required],type:["",r.kI.required],facebook:["",r.kI.required],instagram:["",r.kI.required],twitter:["",r.kI.required]})}constructor(t,a,s){this.usersService=t,this.formBuilder=a,this.router=s,this.validatedForm=!1,this.excalinestImgPath="C:\\Excalinest\\img\\",this.fakePath="C:\\fakepath\\",this.newUser={username:"",email:"",name:"",type:"",facebook:{data:{data:new ArrayBuffer(0),type:""},tipoImagen:""},imagenFacebook:"",facepath:"",instagram:{data:{data:new ArrayBuffer(0),type:""},tipoImagen:""},imagenInstagram:"",instapath:"",twitter:{data:{data:new ArrayBuffer(0),type:""},tipoImagen:""},imagenTwitter:"",twitterpath:""},this.showSpinner=!1,this.modalMessage="",this.modalTitle="Atenci\xf3n",this.visible=!1,this.error=!1}getPostUserForm(){return this.postUserForm}onPostUser(){this.newUser.username=this.postUserForm.value.username,this.newUser.email=this.postUserForm.value.email,this.newUser.name=this.postUserForm.value.name,this.newUser.type=this.postUserForm.value.type,this.newUser.facepath=this.postUserForm.value.facebook.replace(this.fakePath,this.excalinestImgPath),this.newUser.instapath=this.postUserForm.value.instagram.replace(this.fakePath,this.excalinestImgPath),this.newUser.twitterpath=this.postUserForm.value.twitter.replace(this.fakePath,this.excalinestImgPath),this.showSpinner=!0,this.usersService.postUser(this.newUser).subscribe({error:t=>{this.showSpinner=!1,this.error=!0,this.modalMessage=t.error.replace(/['"]+/g,""),this.openCloseInfoModal(!1)},next:t=>{this.showSpinner=!1,this.error=!1,this.modalMessage=t.replace(/['"]+/g,""),this.openCloseInfoModal(!0)}})}submitUser(){this.validateEmailFormat()?(this.validatedForm=!0,this.postUserForm.dirty&&this.postUserForm.valid&&this.onPostUser()):(this.error=!0,this.modalMessage="Error: Formato de correo electr\xf3nico no v\xe1lido",this.openCloseInfoModal(!1))}validateEmailFormat(){return this.postUserForm.value.email.match(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/)}openCloseInfoModal(t){this.visible=!this.visible,t?this.visible&&t&&this.resetForm():this.completeForm(),!this.visible&&!this.error&&this.router.navigate(["/users"])}handleInfoModalChange(t){this.visible=t}resetForm(){this.validatedForm=!1,this.postUserForm=this.formBuilder.group({username:["",r.kI.required],email:["",r.kI.required],name:["",r.kI.required],type:["",r.kI.required],facebook:["",r.kI.required],instagram:["",r.kI.required],twitter:["",r.kI.required]})}completeForm(){this.validatedForm=!1,this.postUserForm=this.formBuilder.group({username:[this.postUserForm.value.username,r.kI.required],email:[this.postUserForm.value.email,r.kI.required],name:[this.postUserForm.value.name,r.kI.required],type:[this.postUserForm.value.type,r.kI.required],facebook:["",r.kI.required],instagram:["",r.kI.required],twitter:["",r.kI.required]})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(p.f),e.Y36(r.qu),e.Y36(m.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-post-user"]],decls:12,vars:6,consts:[["class","fade show spinner",4,"ngIf"],[4,"ngIf"],["id","infoModal",3,"visible","alignment","visibleChange"],["cModalTitle",""],["cButtonClose","",3,"click"],["cButton","","color","secondary",3,"click"],[1,"fade","show","spinner"],[1,"spinner-grow","spinner-grow-sm"],[1,"m-1"],["cForm","",1,"row","g-3","needs-validation",3,"formGroup","validated","ngSubmit"],["md","6"],["cLabel","","for","username"],["cFormControl","","id","username","formControlName","username","required","","type","text"],[3,"valid"],["cLabel","","for","email"],["cFormControl","","id","email","formControlName","email","required","","type","text"],["cLabel","","for","name"],["cFormControl","","id","name","formControlName","name","required","","type","text"],["cLabel","","for","type"],["cFormControl","","id","type","formControlName","type","required","",1,"form-select"],["value","desarrollador","selected",""],["value","administrador"],["value","soporte"],[1,"row"],["md","4"],["cLabel","","for","facebook"],["cFormControl","","id","facebook","formControlName","facebook","accept","image/png, image/jpeg","required","","type","file"],["cLabel","","for","instagram"],["cFormControl","","id","instagram","formControlName","instagram","accept","image/png, image/jpeg","required","","type","file"],["cLabel","","for","twitter"],["cFormControl","","id","twitter","formControlName","twitter","accept","image/png, image/jpeg","required","","type","file"],["cButton","","color","primary","type","submit",1,"update-button","row-margin-bottom"]],template:function(t,a){1&t&&(e.YNc(0,w,4,0,"div",0),e.YNc(1,T,73,16,"div",1),e.TgZ(2,"c-modal",2),e.NdJ("visibleChange",function(l){return a.handleInfoModalChange(l)}),e.TgZ(3,"c-modal-header")(4,"h5",3),e._uU(5),e.qZA(),e.TgZ(6,"button",4),e.NdJ("click",function(){return a.openCloseInfoModal(!1)}),e.qZA()(),e.TgZ(7,"c-modal-body"),e._uU(8),e.qZA(),e.TgZ(9,"c-modal-footer")(10,"button",5),e.NdJ("click",function(){return a.openCloseInfoModal(!1)}),e._uU(11," Cerrar "),e.qZA()()()),2&t&&(e.Q6J("ngIf",a.showSpinner),e.xp6(1),e.Q6J("ngIf",0==a.showSpinner),e.xp6(1),e.Q6J("visible",a.visible)("alignment","center"),e.xp6(3),e.Oqu(a.modalTitle),e.xp6(3),e.hij(" ",a.modalMessage," "))},dependencies:[c.O5,i.iok,i.Yp0,i.$_X,i.oHf,i.dCl,i.eFW,i.Hq3,i.PFQ,r._Y,r.YN,r.Kr,r.Fj,r.EJ,r.JJ,r.JL,r.Q7,r.sg,r.u,i.KF4,i.YI7,i.Rbl,i.vPP,i.zS7],styles:[".spinner[_ngcontent-%COMP%]{text-align:center;padding-top:33.3333333333vh;height:50vh}.update-button[_ngcontent-%COMP%]{width:100%}.row[_ngcontent-%COMP%]{margin-top:2%}.row-margin-bottom[_ngcontent-%COMP%]{margin-bottom:10%}"]}),o})();var k=u(7185);function q(o,n){1&o&&(e.TgZ(0,"div",6),e._UZ(1,"i",7),e.TgZ(2,"span",8),e._uU(3,"Cargando usuarios..."),e.qZA()())}const I=function(){return["/users/user"]};function F(o,n){if(1&o&&(e.TgZ(0,"c-col",10)(1,"c-card",11)(2,"c-card-body")(3,"h5",12),e._uU(4),e.qZA(),e.TgZ(5,"c-row")(6,"c-col",13)(7,"button",14),e._uU(8,"Ver detalles"),e.qZA()()()()()()),2&o){const t=n.$implicit;e.Q6J("sm",3),e.xp6(4),e.Oqu(t.username),e.xp6(3),e.Q6J("routerLink",e.DdM(4,I))("state",t)}}function A(o,n){if(1&o&&(e.TgZ(0,"div")(1,"c-row"),e.YNc(2,F,9,5,"c-col",9),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.users)}}let y=(()=>{class o{constructor(t,a){this.usersService=t,this.toastr=a,this.users=new Array,this.showSpinner=!0,this.modalMessage="",this.modalTitle="Atenci\xf3n",this.visible=!1}ngOnInit(){this.usersService.getUsers().subscribe({error:t=>{this.modalMessage=t.error.replace(/['"]+/g,""),this.openCloseInfoModal()},next:t=>{this.showSpinner=!1,0==t.length&&(this.modalMessage="A\xfan no hay usuarios.",this.openCloseInfoModal()),this.users=t}})}deleteUser(t){this.showSpinner=!0,this.usersService.deleteUser(t).subscribe({error:a=>{this.showSpinner=!1,this.modalMessage=a.error.replace(/['"]+/g,""),this.openCloseInfoModal()},next:()=>{this.showSpinner=!1,this.toastr.success("El usuario se elimin\xf3 correctamente","\xc9xito"),setTimeout(()=>{location.reload()},3e3)}})}openCloseInfoModal(){this.visible=!this.visible}handleInfoModalChange(t){this.visible=t}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(p.f),e.Y36(k._W))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-get-users"]],decls:12,vars:6,consts:[["class","fade show spinner",4,"ngIf"],[4,"ngIf"],["id","infoModal",3,"visible","alignment","visibleChange"],["cModalTitle",""],["cButtonClose","",3,"click"],["cButton","","color","secondary",3,"click"],[1,"fade","show","spinner"],[1,"spinner-grow","spinner-grow-sm"],[1,"m-1"],[3,"sm",4,"ngFor","ngForOf"],[3,"sm"],[1,"mb-4"],["cCardTitle",""],[1,"text-end","mb-12"],["cButton","","color","dark","size","sm",1,"mb-4",3,"routerLink","state"]],template:function(t,a){1&t&&(e.YNc(0,q,4,0,"div",0),e.YNc(1,A,3,1,"div",1),e.TgZ(2,"c-modal",2),e.NdJ("visibleChange",function(l){return a.handleInfoModalChange(l)}),e.TgZ(3,"c-modal-header")(4,"h5",3),e._uU(5),e.qZA(),e.TgZ(6,"button",4),e.NdJ("click",function(){return a.openCloseInfoModal()}),e.qZA()(),e.TgZ(7,"c-modal-body"),e._uU(8),e.qZA(),e.TgZ(9,"c-modal-footer")(10,"button",5),e.NdJ("click",function(){return a.openCloseInfoModal()}),e._uU(11," Cerrar "),e.qZA()()()),2&t&&(e.Q6J("ngIf",a.showSpinner),e.xp6(1),e.Q6J("ngIf",0==a.showSpinner),e.xp6(1),e.Q6J("visible",a.visible)("alignment","center"),e.xp6(3),e.Oqu(a.modalTitle),e.xp6(3),e.Oqu(a.modalMessage))},dependencies:[c.sg,c.O5,m.rH,i.AkF,i.yue,i.qkm,i.iok,i.Yp0,i.Hq3,i.PFQ,i.KF4,i.YI7,i.Rbl,i.vPP,i.zS7],styles:[".spinner[_ngcontent-%COMP%]{text-align:center;padding-top:33.3333333333vh;height:50vh}.update-button[_ngcontent-%COMP%]{margin-right:5%}"]}),o})();var _=u(1481);function x(o,n){1&o&&(e.TgZ(0,"div",7),e._UZ(1,"i",8),e.TgZ(2,"span",9),e._uU(3,"Eliminando usuario..."),e.qZA()())}const M=function(){return["/users/update"]};function J(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"c-row",10)(2,"c-row")(3,"c-col",11)(4,"h1"),e._uU(5),e.qZA()()(),e._UZ(6,"br")(7,"br")(8,"br"),e.TgZ(9,"c-row")(10,"c-col",12)(11,"button",13),e.O4$(),e._UZ(12,"svg",14),e._uU(13,"Editar"),e.qZA(),e.kcU(),e.TgZ(14,"button",15),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.showDeleteModal())}),e.O4$(),e._UZ(15,"svg",16),e._uU(16,"Eliminar"),e.qZA()()(),e.kcU(),e._UZ(17,"br")(18,"br")(19,"br")(20,"br"),e.TgZ(21,"c-row")(22,"c-col",17)(23,"h4"),e._uU(24,"Nombre"),e.qZA(),e.TgZ(25,"p"),e._uU(26),e.qZA()()(),e._UZ(27,"br")(28,"br")(29,"br"),e.TgZ(30,"c-row")(31,"c-col",17)(32,"h4"),e._uU(33,"Correo electr\xf3nico"),e.qZA(),e.TgZ(34,"p"),e._uU(35),e.qZA()(),e.TgZ(36,"c-col",17)(37,"h4"),e._uU(38,"Tipo de usuario"),e.qZA(),e.TgZ(39,"p"),e._uU(40),e.qZA()()(),e._UZ(41,"br")(42,"br")(43,"br"),e.qZA(),e._UZ(44,"br"),e.TgZ(45,"c-row",10)(46,"h5"),e._uU(47),e.qZA()(),e.TgZ(48,"c-row",18)(49,"c-col",12)(50,"c-row",19)(51,"h6"),e._uU(52,"Facebook"),e.qZA()(),e.TgZ(53,"c-row"),e._UZ(54,"img",20),e.qZA()(),e.TgZ(55,"c-col",12)(56,"c-row",19)(57,"h6"),e._uU(58,"Instagram"),e.qZA()(),e.TgZ(59,"c-row"),e._UZ(60,"img",20),e.qZA()(),e.TgZ(61,"c-col",12)(62,"c-row",19)(63,"h6"),e._uU(64,"Twitter"),e.qZA()(),e.TgZ(65,"c-row"),e._UZ(66,"img",20),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(5),e.Oqu(t.user.username),e.xp6(5),e.Q6J("sm",3),e.xp6(1),e.Q6J("routerLink",e.DdM(14,M))("state",t.user),e.xp6(15),e.Oqu(t.user.name),e.xp6(9),e.Oqu(t.user.email),e.xp6(5),e.Oqu(t.user.type),e.xp6(7),e.hij("Redes sociales de ",t.user.username,""),e.xp6(2),e.Q6J("sm",4),e.xp6(5),e.Q6J("src",t.user.imagenFacebook,e.LSH),e.xp6(1),e.Q6J("sm",4),e.xp6(5),e.Q6J("src",t.user.imagenInstagram,e.LSH),e.xp6(1),e.Q6J("sm",4),e.xp6(5),e.Q6J("src",t.user.imagenTwitter,e.LSH)}}function P(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"button",21),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onDeleteUser())}),e._uU(1,"Eliminar"),e.qZA()}}function Q(o,n){1&o&&(e.TgZ(0,"div",2),e._UZ(1,"i",3),e.TgZ(2,"span",4),e._uU(3,"Cargando informaci\xf3n del perfil..."),e.qZA()())}const N=function(){return["/users/update-my-profile"]};function B(o,n){if(1&o&&(e.TgZ(0,"div")(1,"c-row",5)(2,"c-row")(3,"c-col",6)(4,"h1"),e._uU(5),e.qZA()()(),e._UZ(6,"br")(7,"br")(8,"br"),e.TgZ(9,"c-row")(10,"c-col",7)(11,"button",8),e.O4$(),e._UZ(12,"svg",9),e._uU(13,"Editar mi perfil"),e.qZA()()(),e.kcU(),e._UZ(14,"br")(15,"br")(16,"br")(17,"br"),e.TgZ(18,"c-row")(19,"c-col",10)(20,"h4"),e._uU(21,"Nombre"),e.qZA(),e.TgZ(22,"p"),e._uU(23),e.qZA()()(),e._UZ(24,"br")(25,"br")(26,"br"),e.TgZ(27,"c-row")(28,"c-col",10)(29,"h4"),e._uU(30,"Correo electr\xf3nico"),e.qZA(),e.TgZ(31,"p"),e._uU(32),e.qZA()(),e.TgZ(33,"c-col",10)(34,"h4"),e._uU(35,"Tipo de usuario"),e.qZA(),e.TgZ(36,"p"),e._uU(37),e.qZA()()(),e._UZ(38,"br")(39,"br")(40,"br"),e.qZA(),e._UZ(41,"br"),e.TgZ(42,"c-row",5)(43,"h5"),e._uU(44),e.qZA()(),e.TgZ(45,"c-row",11)(46,"c-col",7)(47,"c-row",12)(48,"h6"),e._uU(49,"Facebook"),e.qZA()(),e.TgZ(50,"c-row"),e._UZ(51,"img",13),e.qZA()(),e.TgZ(52,"c-col",7)(53,"c-row",12)(54,"h6"),e._uU(55,"Instagram"),e.qZA()(),e.TgZ(56,"c-row"),e._UZ(57,"img",13),e.qZA()(),e.TgZ(58,"c-col",7)(59,"c-row",12)(60,"h6"),e._uU(61,"Twitter"),e.qZA()(),e.TgZ(62,"c-row"),e._UZ(63,"img",13),e.qZA()()()()),2&o){const t=e.oxw();e.xp6(5),e.Oqu(t.user.username),e.xp6(5),e.Q6J("sm",3),e.xp6(1),e.Q6J("routerLink",e.DdM(14,N))("state",t.user),e.xp6(12),e.Oqu(t.user.name),e.xp6(9),e.Oqu(t.user.email),e.xp6(5),e.Oqu(t.user.type),e.xp6(7),e.hij("Redes sociales de ",t.user.username,""),e.xp6(2),e.Q6J("sm",4),e.xp6(5),e.Q6J("src",t.user.imagenFacebook,e.LSH),e.xp6(1),e.Q6J("sm",4),e.xp6(5),e.Q6J("src",t.user.imagenInstagram,e.LSH),e.xp6(1),e.Q6J("sm",4),e.xp6(5),e.Q6J("src",t.user.imagenTwitter,e.LSH)}}function O(o,n){1&o&&(e.TgZ(0,"div",6),e._UZ(1,"i",7),e.TgZ(2,"span",8),e._uU(3,"Editando perfil..."),e.qZA()())}function Y(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"h2"),e._uU(2,"Editar usuario"),e.qZA(),e.TgZ(3,"form",9),e.NdJ("ngSubmit",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.submitUser())}),e.TgZ(4,"c-row")(5,"c-col",10)(6,"label",11),e._uU(7,"Nombre de usuario"),e.qZA(),e._UZ(8,"input",12),e.TgZ(9,"c-form-feedback",13),e._uU(10,"Nombre de usuario v\xe1lido"),e.qZA(),e.TgZ(11,"c-form-feedback",13),e._uU(12,"Ingrese el nombre de usuario"),e.qZA()(),e.TgZ(13,"c-col",10)(14,"label",14),e._uU(15,"Correo electr\xf3nico"),e.qZA(),e._UZ(16,"input",15),e.TgZ(17,"c-form-feedback",13),e._uU(18,"Correo electr\xf3nico v\xe1lido"),e.qZA(),e.TgZ(19,"c-form-feedback",13),e._uU(20,"Ingrese el correo electr\xf3nico"),e.qZA()()(),e.TgZ(21,"c-row")(22,"c-col",10)(23,"label",16),e._uU(24,"Nombre"),e.qZA(),e._UZ(25,"input",17),e.TgZ(26,"c-form-feedback",13),e._uU(27,"Nombre v\xe1lido"),e.qZA(),e.TgZ(28,"c-form-feedback",13),e._uU(29,"Ingrese el nombre del usuario"),e.qZA()(),e._UZ(30,"c-col",10),e.qZA(),e.TgZ(31,"c-row",18)(32,"c-col",19)(33,"label",20),e._uU(34,"Facebook"),e.qZA(),e._UZ(35,"input",21),e.TgZ(36,"c-form-feedback",13),e._uU(37,"Archivo v\xe1lido"),e.qZA(),e.TgZ(38,"c-form-feedback",13),e._uU(39,"Ingrese el archivo"),e.qZA()(),e.TgZ(40,"c-col",19)(41,"label",22),e._uU(42,"Instagram"),e.qZA(),e._UZ(43,"input",23),e.TgZ(44,"c-form-feedback",13),e._uU(45,"Archivo v\xe1lido"),e.qZA(),e.TgZ(46,"c-form-feedback",13),e._uU(47,"Ingrese el archivo"),e.qZA()(),e.TgZ(48,"c-col",19)(49,"label",24),e._uU(50,"Twitter"),e.qZA(),e._UZ(51,"input",25),e.TgZ(52,"c-form-feedback",13),e._uU(53,"Archivo v\xe1lido"),e.qZA(),e.TgZ(54,"c-form-feedback",13),e._uU(55,"Ingrese el archivo"),e.qZA()()(),e.TgZ(56,"c-row",18)(57,"c-col",19)(58,"button",26),e._uU(59," Editar "),e.qZA()()()()()}if(2&o){const t=e.oxw();e.xp6(3),e.Q6J("formGroup",t.getPutUserForm())("validated",t.validatedForm),e.xp6(6),e.Q6J("valid",!0),e.xp6(2),e.Q6J("valid",!1),e.xp6(6),e.Q6J("valid",!0),e.xp6(2),e.Q6J("valid",!1),e.xp6(7),e.Q6J("valid",!0),e.xp6(2),e.Q6J("valid",!1),e.xp6(8),e.Q6J("valid",!0),e.xp6(2),e.Q6J("valid",!1),e.xp6(6),e.Q6J("valid",!0),e.xp6(2),e.Q6J("valid",!1),e.xp6(6),e.Q6J("valid",!0),e.xp6(2),e.Q6J("valid",!1)}}const L=[{path:"",redirectTo:"get",pathMatch:"full"},{path:"",data:{title:"Usuarios"},children:[{path:"",pathMatch:"full",redirectTo:"colors"},{path:"update",component:Z,data:{title:"Actualizar usuario"}},{path:"post",component:C,data:{title:"Registrar usuario"}},{path:"get",component:y,data:{title:"Usuarios"}},{path:"user",component:(()=>{class o{ngOnInit(){this.user=history.state;var t=btoa(new Uint8Array(this.user.facebook.data.data).reduce((l,d)=>l+String.fromCharCode(d),""));this.user.imagenFacebook=this.domSanitizer.bypassSecurityTrustResourceUrl("data:"+this.user.facebook.tipoImagen+";base64, "+t);var a=btoa(new Uint8Array(this.user.instagram.data.data).reduce((l,d)=>l+String.fromCharCode(d),""));this.user.imagenInstagram=this.domSanitizer.bypassSecurityTrustResourceUrl("data:"+this.user.instagram.tipoImagen+";base64, "+a);var s=btoa(new Uint8Array(this.user.twitter.data.data).reduce((l,d)=>l+String.fromCharCode(d),""));this.user.imagenTwitter=this.domSanitizer.bypassSecurityTrustResourceUrl("data:"+this.user.twitter.tipoImagen+";base64, "+s)}constructor(t,a,s){this.usersService=t,this.router=a,this.domSanitizer=s,this.deleteButton=!1,this.user={username:"",email:"",name:"",type:"",facebook:{data:{data:new ArrayBuffer(0),type:""},tipoImagen:""},imagenFacebook:"",facepath:"",instagram:{data:{data:new ArrayBuffer(0),type:""},tipoImagen:""},imagenInstagram:"",instapath:"",twitter:{data:{data:new ArrayBuffer(0),type:""},tipoImagen:""},imagenTwitter:"",twitterpath:""},this.showSpinner=!1,this.modalMessage="",this.modalTitle="Atenci\xf3n",this.visible=!1,this.error=!1}showDeleteModal(){this.deleteButton=!0,this.modalMessage="\xbfEst\xe1 seguro de eliminar "+this.user.username+"?",this.openCloseInfoModal()}onDeleteUser(){this.openCloseInfoModal(),this.showSpinner=!0,this.usersService.deleteUser(this.user.email).subscribe({error:t=>{this.showSpinner=!1,this.modalMessage=t.error.replace(/['"]+/g,""),this.openCloseInfoModal()},next:()=>{this.showSpinner=!1,this.router.navigate(["/users"])}})}openCloseInfoModal(){this.visible=!this.visible}handleInfoModalChange(t){this.visible=t}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(p.f),e.Y36(m.F0),e.Y36(_.H7))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-user-detail"]],decls:13,vars:7,consts:[["class","fade show spinner",4,"ngIf"],[4,"ngIf"],["id","infoModal",3,"visible","alignment","visibleChange"],["cModalTitle",""],["cButtonClose","",3,"click"],["cButton","","color","danger",3,"click",4,"ngIf"],["cButton","","color","secondary",3,"click"],[1,"fade","show","spinner"],[1,"spinner-grow","spinner-grow-sm"],[1,"m-1"],[1,"row-title"],["md","8"],[3,"sm"],["cButton","","color","info","size","sm",1,"crud-button","right-margin",2,"margin-right","7%",3,"routerLink","state"],["cIcon","","name","cilPencil",1,"me-2","icon"],["cButton","","color","danger","size","sm",1,"crud-button",3,"click"],["cIcon","","name","cilTrash",1,"me-2","icon"],["md","6"],[1,"row-social-net"],[1,"text-center"],["cCardImg","top",1,"w-50","p-3","rounded","mx-auto","d-block",3,"src"],["cButton","","color","danger",3,"click"]],template:function(t,a){1&t&&(e.YNc(0,x,4,0,"div",0),e.YNc(1,J,67,15,"div",1),e.TgZ(2,"c-modal",2),e.NdJ("visibleChange",function(l){return a.handleInfoModalChange(l)}),e.TgZ(3,"c-modal-header")(4,"h5",3),e._uU(5),e.qZA(),e.TgZ(6,"button",4),e.NdJ("click",function(){return a.openCloseInfoModal()}),e.qZA()(),e.TgZ(7,"c-modal-body"),e._uU(8),e.qZA(),e.TgZ(9,"c-modal-footer"),e.YNc(10,P,2,0,"button",5),e.TgZ(11,"button",6),e.NdJ("click",function(){return a.openCloseInfoModal()}),e._uU(12," Cerrar "),e.qZA()()()),2&t&&(e.Q6J("ngIf",a.showSpinner),e.xp6(1),e.Q6J("ngIf",0==a.showSpinner),e.xp6(1),e.Q6J("visible",a.visible)("alignment","center"),e.xp6(3),e.Oqu(a.modalTitle),e.xp6(3),e.hij(" ",a.modalMessage," "),e.xp6(2),e.Q6J("ngIf",a.deleteButton))},dependencies:[c.O5,m.rH,i.pce,i.iok,i.Yp0,g.ar,i.Hq3,i.PFQ,i.KF4,i.YI7,i.Rbl,i.vPP,i.zS7],styles:[".spinner[_ngcontent-%COMP%]{text-align:center;padding-top:33.3333333333vh;height:50vh}"]}),o})(),data:{title:"Detalles del usuario"}},{path:"profile",component:(()=>{class o{ngOnInit(){this.usersService.getUser("sirodriguez@gmail.com").subscribe({error:a=>{this.showSpinner=!1,this.modalMessage=a.error.replace(/['"]+/g,""),this.openCloseInfoModal()},next:a=>{this.user=a;var s=btoa(new Uint8Array(this.user.facebook.data.data).reduce((h,f)=>h+String.fromCharCode(f),""));this.user.imagenFacebook=this.domSanitizer.bypassSecurityTrustResourceUrl("data:"+this.user.facebook.tipoImagen+";base64, "+s);var l=btoa(new Uint8Array(this.user.instagram.data.data).reduce((h,f)=>h+String.fromCharCode(f),""));this.user.imagenInstagram=this.domSanitizer.bypassSecurityTrustResourceUrl("data:"+this.user.instagram.tipoImagen+";base64, "+l);var d=btoa(new Uint8Array(this.user.twitter.data.data).reduce((h,f)=>h+String.fromCharCode(f),""));this.user.imagenTwitter=this.domSanitizer.bypassSecurityTrustResourceUrl("data:"+this.user.twitter.tipoImagen+";base64, "+d),this.showSpinner=!1}})}constructor(t,a,s){this.usersService=t,this.router=a,this.domSanitizer=s,this.deleteButton=!1,this.user={username:"",email:"",name:"",type:"",facebook:{data:{data:new ArrayBuffer(0),type:""},tipoImagen:""},imagenFacebook:"",facepath:"",instagram:{data:{data:new ArrayBuffer(0),type:""},tipoImagen:""},imagenInstagram:"",instapath:"",twitter:{data:{data:new ArrayBuffer(0),type:""},tipoImagen:""},imagenTwitter:"",twitterpath:""},this.showSpinner=!0,this.modalMessage="",this.modalTitle="Atenci\xf3n",this.visible=!1,this.error=!1}openCloseInfoModal(){this.visible=!this.visible}handleInfoModalChange(t){this.visible=t}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(p.f),e.Y36(m.F0),e.Y36(_.H7))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-my-profile"]],decls:2,vars:2,consts:[["class","fade show spinner",4,"ngIf"],[4,"ngIf"],[1,"fade","show","spinner"],[1,"spinner-grow","spinner-grow-sm"],[1,"m-1"],[1,"row-title"],["md","8"],[3,"sm"],["cButton","","color","info","size","sm",1,"crud-button","right-margin",2,"margin-right","7%",3,"routerLink","state"],["cIcon","","name","cilPencil",1,"me-2","icon"],["md","6"],[1,"row-social-net"],[1,"text-center"],["cCardImg","top",1,"w-50","p-3","rounded","mx-auto","d-block",3,"src"]],template:function(t,a){1&t&&(e.YNc(0,Q,4,0,"div",0),e.YNc(1,B,64,15,"div",1)),2&t&&(e.Q6J("ngIf",a.showSpinner),e.xp6(1),e.Q6J("ngIf",0==a.showSpinner))},dependencies:[c.O5,m.rH,i.pce,i.iok,i.Yp0,g.ar,i.Hq3],styles:[".spinner[_ngcontent-%COMP%]{text-align:center;padding-top:33.3333333333vh;height:50vh}"]}),o})(),data:{title:"Mi perfil"}},{path:"update-my-profile",component:(()=>{class o{ngOnInit(){this._id=history.state._id,this.newUser.username=history.state.username,this.newUser.email=history.state.email,this.newUser.name=history.state.name,this.newUser.type=history.state.type,this.putUserForm=this.formBuilder.group({username:[this.newUser.username,r.kI.required],email:[this.newUser.email,r.kI.required],name:[this.newUser.name,r.kI.required],type:[this.newUser.type,r.kI.required],facebook:["",r.kI.required],instagram:["",r.kI.required],twitter:["",r.kI.required]})}constructor(t,a,s){this.usersService=t,this.formBuilder=a,this.router=s,this._id="",this.validatedForm=!1,this.excalinestImgPath="C:\\Excalinest\\img\\",this.fakePath="C:\\fakepath\\",this.newUser={username:"",email:"",name:"",type:"",facebook:{data:{data:new ArrayBuffer(0),type:""},tipoImagen:""},imagenFacebook:"",facepath:"",instagram:{data:{data:new ArrayBuffer(0),type:""},tipoImagen:""},imagenInstagram:"",instapath:"",twitter:{data:{data:new ArrayBuffer(0),type:""},tipoImagen:""},imagenTwitter:"",twitterpath:""},this.showSpinner=!1,this.modalMessage="",this.modalTitle="Atenci\xf3n",this.visible=!1,this.error=!1}getPutUserForm(){return this.putUserForm}onPutUser(){""!=this.putUserForm.value.username&&(this.newUser.username=this.putUserForm.value.username),""!=this.putUserForm.value.email&&(this.newUser.email=this.putUserForm.value.email),""!=this.putUserForm.value.name&&(this.newUser.name=this.putUserForm.value.name),""!=this.putUserForm.value.type&&(this.newUser.type=""),""!=this.putUserForm.value.facebook&&(this.newUser.facepath=this.putUserForm.value.facebook.replace(this.fakePath,this.excalinestImgPath)),""!=this.putUserForm.value.instagram&&(this.newUser.instapath=this.putUserForm.value.instagram.replace(this.fakePath,this.excalinestImgPath)),""!=this.putUserForm.value.twitter&&(this.newUser.twitterpath=this.putUserForm.value.twitter.replace(this.fakePath,this.excalinestImgPath)),this.showSpinner=!0,this.usersService.putUser(this._id,this.newUser).subscribe({error:t=>{this.showSpinner=!1,this.error=!0,this.modalMessage=t.error.replace(/['"]+/g,""),this.openCloseInfoModal(!1)},next:t=>{this.showSpinner=!1,this.error=!1,this.modalMessage=t.replace(/['"]+/g,""),this.openCloseInfoModal(!0)}})}isValidForm(){return""!=this.putUserForm.value.username||""!=this.putUserForm.value.email||""!=this.putUserForm.value.name||""!=this.putUserForm.value.facebook||""!=this.putUserForm.value.instagram||""!=this.putUserForm.value.twitter}submitUser(){this.validateEmailFormat()?(this.validatedForm=!0,this.isValidForm()&&this.onPutUser()):(this.error=!0,this.modalMessage="Error: Formato de correo electr\xf3nico no v\xe1lido",this.openCloseInfoModal(!1))}validateEmailFormat(){return""==this.putUserForm.value.email||this.putUserForm.value.email.match(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/)}openCloseInfoModal(t){this.visible=!this.visible,t?this.visible&&t&&this.resetForm():this.completeForm(),!this.visible&&!this.error&&this.router.navigate(["users/profile"])}handleInfoModalChange(t){this.visible=t}resetForm(){this.validatedForm=!1,this.putUserForm=this.formBuilder.group({username:["",r.kI.required],email:["",r.kI.required],name:["",r.kI.required],type:["",r.kI.required],facebook:["",r.kI.required],instagram:["",r.kI.required],twitter:["",r.kI.required]})}completeForm(){this.validatedForm=!1,this.putUserForm=this.formBuilder.group({username:[this.putUserForm.value.username,r.kI.required],email:[this.putUserForm.value.email,r.kI.required],name:[this.putUserForm.value.name,r.kI.required],type:[this.putUserForm.value.type,r.kI.required],facebook:["",r.kI.required],instagram:["",r.kI.required],twitter:["",r.kI.required]})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(p.f),e.Y36(r.qu),e.Y36(m.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-update-my-profile"]],decls:12,vars:6,consts:[["class","fade show spinner",4,"ngIf"],[4,"ngIf"],["id","infoModal",3,"visible","alignment","visibleChange"],["cModalTitle",""],["cButtonClose","",3,"click"],["cButton","","color","secondary",3,"click"],[1,"fade","show","spinner"],[1,"spinner-grow","spinner-grow-sm"],[1,"m-1"],["cForm","",1,"row","g-3","needs-validation",3,"formGroup","validated","ngSubmit"],["md","6"],["cLabel","","for","username"],["cFormControl","","id","username","formControlName","username","type","text"],[3,"valid"],["cLabel","","for","email"],["cFormControl","","id","email","formControlName","email","type","text"],["cLabel","","for","name"],["cFormControl","","id","name","formControlName","name","type","text"],[1,"row"],["md","4"],["cLabel","","for","facebook"],["cFormControl","","id","facebook","formControlName","facebook","type","file"],["cLabel","","for","instagram"],["cFormControl","","id","instagram","formControlName","instagram","type","file"],["cLabel","","for","twitter"],["cFormControl","","id","twitter","formControlName","twitter","type","file"],["cButton","","color","primary","type","submit",1,"update-button","row-margin-bottom"]],template:function(t,a){1&t&&(e.YNc(0,O,4,0,"div",0),e.YNc(1,Y,60,14,"div",1),e.TgZ(2,"c-modal",2),e.NdJ("visibleChange",function(l){return a.handleInfoModalChange(l)}),e.TgZ(3,"c-modal-header")(4,"h5",3),e._uU(5),e.qZA(),e.TgZ(6,"button",4),e.NdJ("click",function(){return a.openCloseInfoModal(!1)}),e.qZA()(),e.TgZ(7,"c-modal-body"),e._uU(8),e.qZA(),e.TgZ(9,"c-modal-footer")(10,"button",5),e.NdJ("click",function(){return a.openCloseInfoModal(!1)}),e._uU(11," Cerrar "),e.qZA()()()),2&t&&(e.Q6J("ngIf",a.showSpinner),e.xp6(1),e.Q6J("ngIf",0==a.showSpinner),e.xp6(1),e.Q6J("visible",a.visible)("alignment","center"),e.xp6(3),e.Oqu(a.modalTitle),e.xp6(3),e.hij(" ",a.modalMessage," "))},dependencies:[c.O5,i.iok,i.Yp0,i.$_X,i.oHf,i.dCl,i.eFW,i.Hq3,i.PFQ,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,i.KF4,i.YI7,i.Rbl,i.vPP,i.zS7],styles:[".spinner[_ngcontent-%COMP%]{text-align:center;padding-top:33.3333333333vh;height:50vh}.update-button[_ngcontent-%COMP%]{width:100%}.row[_ngcontent-%COMP%]{margin-top:2%}.row-margin-bottom[_ngcontent-%COMP%]{margin-bottom:10%}"]}),o})(),data:{title:"Actualizar mi perfil"}}]}];let z=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[m.Bz.forChild(L),m.Bz]}),o})(),H=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[c.ez,z,i.dTQ,i.zE6,i.gzQ,g.QX,i.dGk,i.P4_,i.ejP,i.hJ1,r.u5,r.UX,i.ga2,i.kWm,i.m81,i.Xo8,i.zkK]}),o})()}}]);